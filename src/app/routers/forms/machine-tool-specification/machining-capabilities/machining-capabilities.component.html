<div [formGroup]="machiningCapabilitiesForm">
  <div formArrayName="capabilities">
    <div *ngFor="let a of machiningCapabilitiesForm.controls['capabilities'].controls; let i=index">

      <inz-card [cardName]="'Machining Capability #' + (1+i)" class="form-array-item">
        <div [formGroupName]="i">
          <inz-machining-capability-form
            [machiningCapabilityForm]="machiningCapabilitiesForm.controls['capabilities'].controls[i]">
          </inz-machining-capability-form>
        </div>


        <div class="text-right">
          <button class="btn btn-danger" (click)="removeCapability(i)">Remove capability</button>
        </div>
      </inz-card>

    </div>
  </div>
</div>

<div class="text-left">
  <span class="text-primary -mouse-pointer pointer" (click)="addCapability()">Add new capability +</span>
</div>

<div class="text-center">
  <button class="btn btn-primary" (click)="saveAll()">Save all</button>
</div>
